<div class="main-content" >
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
              <div class="card">
                <div class="header">
                  <h4 class="title">Add Prescription</h4>
                </div>
                <div class="content">
                  <div class="row mat-typography">
                    <div class="col-md-4">
                      <div class="card py-3 py-md-3 user-card">
                        <div class="d-flex justify-content-between px-3 px-md-4">
                          <img src="assets/images/user.jpeg" height="45px" width="45px" alt="" class="rounded-circle">
                          <div>
                            <p class="column-green font-14 font-b-500">{{patientData.user.first_name}} {{patientData.user.last_name}}</p>
                            <p class="font-12">Patient Id : {{patientData.id}}</p>
                          </div>
                          <div>
                            <p class="font-12">Friday, June 26</p>
                          </div>
                        </div>
                        <hr class="light-hr">
                        <div class="d-flex flex-column justify-content-start w-100 px-3 px-md-4">
                          <p><i class="fa fa-map-marker pt-3 psr-3"></i> {{patientData.address}}</p>
                          <p><i class="fa fa-phone pt-3 psr-3"></i> +{{patientData.user.phone_no}}</p>
                        </div>
                        <hr class="light-hr">
                        <div class="d-flex justify-content-between px-3 px-md-4">
                          <div>
                            <div class="d-flex">
                              <p class="psr-2">Blood Group:</p>
                              <div class="font-weight-bold"> {{patientData.blood_group}} </div>
                            </div>
                            <div class="d-flex">
                              <p class="psr-2">Blood Pressure:</p>
                              <div class="font-weight-bold"> {{patientData.blood_presure}} </div>
                            </div>
                            <div class="d-flex">
                              <p class="psr-2">Age:</p>
                              <div class="font-weight-bold"> {{patientData.age}} </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-8">
                      <form id="add-prescription" [formGroup]="addPrescriptionsForm" autocomplete="off">
                        <div class="row justify-content-center">
                          <div class="row">
                            <div class="col-sm-12">
                              <div class="form-group">
                                  <label class="form-label fw-bold">{{props.USER_DETAILS.CONSULTING_DOC}} <span class="text-danger">*</span></label>
                                  <select class="form-control form-select" formControlName="doctorId" [ngClass]="{ 'is-invalid': submitted && f.doctorId.errors}">
                                    <option value="" disabled>Choose a Doctor</option>
                                    <option *ngFor="let doctor of doctorsList" [value]="doctor.id">{{doctor.first_name}} {{doctor.last_name}}</option>
                                  </select>
                              </div>
                            </div>
                            <div class="col-sm-12">
                              <div class="form-group">
                                  <label class="form-label fw-bold">{{props.USER_DETAILS.PRESCRIPTION_TITLE}} <span class="text-danger">*</span></label>
                                  <input type="text" class="form-control form-control-sm" placeholder="{{props.USER_DETAILS.PRESCRIPTION_TITLE}}" formControlName="precritionTitle" maxlength="200" [ngClass]="{ 'is-invalid': submitted && f.precritionTitle.errors}">
                              </div>
                            </div>
                            <div class="col-sm-12">
                              <div class="form-group">
                                  <label class="form-label fw-bold">{{props.USER_DETAILS.DOSAGE_INSTRUCTION}} <span class="text-danger">*</span></label>
                                  <textarea rows="10" style="height: 150px;" class="form-control" formControlName="dosageInstruction" placeholder="{{props.USER_DETAILS.DOSAGE_INSTRUCTION}}" maxlength="4000" [ngClass]="{ 'is-invalid': submitted && f.dosageInstruction.errors}"></textarea>
                              </div>
                            </div>
                          </div>
                          
                          <div class="row justify-content-end">
                            <div class="form-group div-btn">
                              <button type="button" *ngIf="currentUser.role_name == 'Admin'" class="btn btn-default pull-right" routerLink="/admin/patients" style="margin-left: 15px;">{{props.BTN_SEARCH.CANCEL}}</button>
                              <button type="button" *ngIf="currentUser.role_name == 'Doctor'" class="btn btn-default pull-right" routerLink="/doctor/patients" style="margin-left: 15px;">{{props.BTN_SEARCH.CANCEL}}</button>
                              <button type="submit" class="btn btn-primary btn-fill pull-right" [disabled]="!this.addPrescriptionsForm.valid" (click)="addPrescriptions()">{{props.USER_DETAILS.USER_PRESCRIPTION}}</button>
                            </div>
                          </div>
                          <div class="clearfix"></div>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>
    </div>
  </div>
  